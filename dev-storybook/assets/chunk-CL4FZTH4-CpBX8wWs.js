import{$ as Le,b as Ve,c as Lt,d as Pt,e as Ze,f as ct,g as Rt}from"./Button-dpK5mbtK.js";import{r as L,R as E}from"./index-Cs7sjTYM.js";function Tt(e,r){let{id:t,"aria-label":i,"aria-labelledby":a}=e;return t=Le(t),a&&i?a=[...new Set([t,...a.trim().split(/\s+/)])].join(" "):a&&(a=a.trim().split(/\s+/).join(" ")),!i&&!a&&r&&(i=r),{id:t,"aria-label":i,"aria-labelledby":a}}function yr(e,r,t){let i=L.useRef(r),a=Ve(()=>{t&&t(i.current)});L.useEffect(()=>{var l;let u=e==null||(l=e.current)===null||l===void 0?void 0:l.form;return u==null||u.addEventListener("reset",a),()=>{u==null||u.removeEventListener("reset",a)}},[e,a])}function br(e,r,t){let{validationBehavior:i,focus:a}=e;Lt(()=>{if(i==="native"&&(t!=null&&t.current)){let V=r.realtimeValidation.isInvalid?r.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";t.current.setCustomValidity(V),t.current.hasAttribute("title")||(t.current.title=""),r.realtimeValidation.isInvalid||r.updateValidation(Ut(t.current))}});let l=Ve(()=>{r.resetValidation()}),u=Ve(V=>{var x;r.displayValidation.isInvalid||r.commitValidation();let h=t==null||(x=t.current)===null||x===void 0?void 0:x.form;if(!V.defaultPrevented&&t&&h&&Bt(h)===t.current){var g;a?a():(g=t.current)===null||g===void 0||g.focus(),Pt("keyboard")}V.preventDefault()}),f=Ve(()=>{r.commitValidation()});L.useEffect(()=>{let V=t==null?void 0:t.current;if(!V)return;let x=V.form;return V.addEventListener("invalid",u),V.addEventListener("change",f),x==null||x.addEventListener("reset",l),()=>{V.removeEventListener("invalid",u),V.removeEventListener("change",f),x==null||x.removeEventListener("reset",l)}},[t,u,f,l,i])}function Ot(e){let r=e.validity;return{badInput:r.badInput,customError:r.customError,patternMismatch:r.patternMismatch,rangeOverflow:r.rangeOverflow,rangeUnderflow:r.rangeUnderflow,stepMismatch:r.stepMismatch,tooLong:r.tooLong,tooShort:r.tooShort,typeMismatch:r.typeMismatch,valueMissing:r.valueMissing,valid:r.valid}}function Ut(e){return{isInvalid:!e.validity.valid,validationDetails:Ot(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function Bt(e){for(let r=0;r<e.elements.length;r++){let t=e.elements[r];if(!t.validity.valid)return t}return null}const Re={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},ft={...Re,customError:!0,valid:!1},ce={isInvalid:!1,validationDetails:Re,validationErrors:[]},Nt=L.createContext({}),et="__formValidationState"+Date.now();function gr(e){if(e[et]){let{realtimeValidation:r,displayValidation:t,updateValidation:i,resetValidation:a,commitValidation:l}=e[et];return{realtimeValidation:r,displayValidation:t,updateValidation:i,resetValidation:a,commitValidation:l}}return Wt(e)}function Wt(e){let{isInvalid:r,validationState:t,name:i,value:a,builtinValidation:l,validate:u,validationBehavior:f="aria"}=e;t&&(r||(r=t==="invalid"));let V=r!==void 0?{isInvalid:r,validationErrors:[],validationDetails:ft}:null,x=L.useMemo(()=>tt(qt(u,a)),[u,a]);l!=null&&l.validationDetails.valid&&(l=null);let h=L.useContext(Nt),g=L.useMemo(()=>i?Array.isArray(i)?i.flatMap($=>Pe(h[$])):Pe(h[i]):[],[h,i]),[B,q]=L.useState(h),[D,re]=L.useState(!1);h!==B&&(q(h),re(!1));let j=L.useMemo(()=>tt(D?[]:g),[D,g]),K=L.useRef(ce),[_,N]=L.useState(ce),T=L.useRef(ce),S=()=>{if(!X)return;Z(!1);let $=x||l||K.current;ke($,T.current)||(T.current=$,N($))},[X,Z]=L.useState(!1);return L.useEffect(S),{realtimeValidation:V||j||x||l||ce,displayValidation:f==="native"?V||j||_:V||j||x||l||_,updateValidation($){f==="aria"&&!ke(_,$)?N($):K.current=$},resetValidation(){let $=ce;ke($,T.current)||(T.current=$,N($)),f==="native"&&Z(!1),re(!0)},commitValidation(){f==="native"&&Z(!0),re(!0)}}}function Pe(e){return e?Array.isArray(e)?e:[e]:[]}function qt(e,r){if(typeof e=="function"){let t=e(r);if(t&&typeof t!="boolean")return Pe(t)}return[]}function tt(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:ft}:null}function ke(e,r){return e===r?!0:e&&r&&e.isInvalid===r.isInvalid&&e.validationErrors.length===r.validationErrors.length&&e.validationErrors.every((t,i)=>t===r.validationErrors[i])&&Object.entries(e.validationDetails).every(([t,i])=>r.validationDetails[t]===i)}function hr(...e){let r=new Set,t=!1,i={...Re};for(let u of e){var a,l;for(let f of u.validationErrors)r.add(f);t||(t=u.isInvalid);for(let f in i)(a=i)[l=f]||(a[l]=u.validationDetails[f])}return i.valid=!t,{isInvalid:t,validationErrors:[...r],validationDetails:i}}function jt(e){let{id:r,label:t,"aria-labelledby":i,"aria-label":a,labelElementType:l="label"}=e;r=Le(r);let u=Le(),f={};t?(i=i?`${u} ${i}`:u,f={id:u,htmlFor:l==="label"?r:void 0}):!i&&!a&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let V=Tt({id:r,"aria-label":a,"aria-labelledby":i});return{labelProps:f,fieldProps:V}}function Vr(e){let{description:r,errorMessage:t,isInvalid:i,validationState:a}=e,{labelProps:l,fieldProps:u}=jt(e),f=Ze([!!r,!!t,i,a]),V=Ze([!!r,!!t,i,a]);return u=ct(u,{"aria-describedby":[f,V,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:l,fieldProps:u,descriptionProps:{id:f},errorMessageProps:{id:V}}}const rt={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Ht(e={}){let{style:r,isFocusable:t}=e,[i,a]=L.useState(!1),{focusWithinProps:l}=Rt({isDisabled:!t,onFocusWithinChange:f=>a(f)}),u=L.useMemo(()=>i?r:r?{...rt,...r}:rt,[i]);return{visuallyHiddenProps:{...l,style:u}}}function mr(e){let{children:r,elementType:t="div",isFocusable:i,style:a,...l}=e,{visuallyHiddenProps:u}=Ht(e);return E.createElement(t,ct(l,u),r)}var be=e=>e.type==="checkbox",ne=e=>e instanceof Date,R=e=>e==null;const vt=e=>typeof e=="object";var I=e=>!R(e)&&!Array.isArray(e)&&vt(e)&&!ne(e),yt=e=>I(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bt=(e,r)=>e.has(Kt(r)),Qt=e=>{const r=e.constructor&&e.constructor.prototype;return I(r)&&r.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Te&&(e instanceof Blob||e instanceof FileList))&&(t||I(e)))if(r=t?[]:{},!t&&!Qt(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=O(e[i]));else return e;return r}var Ae=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,c=(e,r,t)=>{if(!r||!I(e))return t;const i=Ae(r.split(/[,[\].]+?/)).reduce((a,l)=>R(a)?a:a[l],e);return w(i)||i===e?w(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean",Oe=e=>/^\w*$/.test(e),gt=e=>Ae(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const a=Oe(r)?[r]:gt(r),l=a.length,u=l-1;for(;++i<l;){const f=a[i];let V=t;if(i!==u){const x=e[f];V=I(x)||Array.isArray(x)?x:isNaN(+a[i+1])?{}:[]}if(f==="__proto__")return;e[f]=V,e=e[f]}return e};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gt=E.createContext(null),Ue=()=>E.useContext(Gt);var ht=(e,r,t,i=!0)=>{const a={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const u=l;return r._proxyFormState[u]!==G.all&&(r._proxyFormState[u]=!i||G.all),t&&(t[u]=!0),e[u]}});return a},U=e=>I(e)&&!Object.keys(e).length,Vt=(e,r,t,i)=>{t(e);const{name:a,...l}=e;return U(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(u=>r[u]===(!i||G.all))},ve=e=>Array.isArray(e)?e:[e],mt=(e,r,t)=>!e||!r||e===r||ve(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function Be(e){const r=E.useRef(e);r.current=e,E.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Yt(e){const r=Ue(),{control:t=r.control,disabled:i,name:a,exact:l}=e||{},[u,f]=E.useState(t._formState),V=E.useRef(!0),x=E.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=E.useRef(a);return h.current=a,Be({disabled:i,next:g=>V.current&&mt(h.current,g.name,l)&&Vt(g,x.current,t._updateFormState)&&f({...t._formState,...g}),subject:t._subjects.state}),E.useEffect(()=>(V.current=!0,x.current.isValid&&t._updateValid(!0),()=>{V.current=!1}),[t]),ht(u,t,x.current,!1)}var z=e=>typeof e=="string",_t=(e,r,t,i,a)=>z(e)?(i&&r.watch.add(e),c(t,e,a)):Array.isArray(e)?e.map(l=>(i&&r.watch.add(l),c(t,l))):(i&&(r.watchAll=!0),t);function zt(e){const r=Ue(),{control:t=r.control,name:i,defaultValue:a,disabled:l,exact:u}=e||{},f=E.useRef(i);f.current=i,Be({disabled:l,subject:t._subjects.values,next:h=>{mt(f.current,h.name,u)&&x(O(_t(f.current,t._names,h.values||t._formValues,!1,a)))}});const[V,x]=E.useState(t._getWatch(i,a));return E.useEffect(()=>t._removeUnmounted()),V}function Jt(e){const r=Ue(),{name:t,disabled:i,control:a=r.control,shouldUnregister:l}=e,u=bt(a._names.array,t),f=zt({control:a,name:t,defaultValue:c(a._formValues,t,c(a._defaultValues,t,e.defaultValue)),exact:!0}),V=Yt({control:a,name:t,exact:!0}),x=E.useRef(a.register(t,{...e.rules,value:f,...Y(e.disabled)?{disabled:e.disabled}:{}}));return E.useEffect(()=>{const h=a._options.shouldUnregister||l,g=(B,q)=>{const D=c(a._fields,B);D&&D._f&&(D._f.mount=q)};if(g(t,!0),h){const B=O(c(a._options.defaultValues,t));A(a._defaultValues,t,B),w(c(a._formValues,t))&&A(a._formValues,t,B)}return()=>{(u?h&&!a._state.action:h)?a.unregister(t):g(t,!1)}},[t,a,u,l]),E.useEffect(()=>{c(a._fields,t)&&a._updateDisabledField({disabled:i,fields:a._fields,name:t,value:c(a._fields,t)._f.value})},[i,t,a]),{field:{name:t,value:f,...Y(i)||V.disabled?{disabled:V.disabled||i}:{},onChange:E.useCallback(h=>x.current.onChange({target:{value:yt(h),name:t},type:_e.CHANGE}),[t]),onBlur:E.useCallback(()=>x.current.onBlur({target:{value:c(a._formValues,t),name:t},type:_e.BLUR}),[t,a]),ref:E.useCallback(h=>{const g=c(a._fields,t);g&&h&&(g._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:B=>h.setCustomValidity(B),reportValidity:()=>h.reportValidity()})},[a._fields,t])},formState:V,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(V.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(V.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(V.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(V.validatingFields,t)},error:{enumerable:!0,get:()=>c(V.errors,t)}})}}const _r=e=>e.render(Jt(e));var Xt=(e,r,t,i,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:a||!0}}:{},st=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),it=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const a of t||Object.keys(e)){const l=c(e,a);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],a)&&!i)break;if(u.ref&&r(u.ref,u.name)&&!i)break;ye(f,r)}else I(f)&&ye(f,r)}}};var Zt=(e,r,t)=>{const i=ve(c(e,t));return A(i,"root",r[t]),A(e,t,i),e},Ne=e=>e.type==="file",te=e=>typeof e=="function",xe=e=>{if(!Te)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},me=e=>z(e),We=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const at={value:!1,isValid:!1},lt={value:!0,isValid:!0};var xt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?lt:{value:e[0].value,isValid:!0}:lt:at}return at};const nt={isValid:!1,value:null};var Ft=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,nt):nt;function ot(e,r,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Y(e)&&!e)return{type:t,message:me(e)?e:"",ref:r}}var le=e=>I(e)&&!Fe(e)?e:{value:e,message:""},ut=async(e,r,t,i,a)=>{const{ref:l,refs:u,required:f,maxLength:V,minLength:x,min:h,max:g,pattern:B,validate:q,name:D,valueAsNumber:re,mount:j,disabled:K}=e._f,_=c(r,D);if(!j||K)return{};const N=u?u[0]:l,T=m=>{i&&N.reportValidity&&(N.setCustomValidity(Y(m)?"":m||""),N.reportValidity())},S={},X=We(l),Z=be(l),ee=X||Z,se=(re||Ne(l))&&w(l.value)&&w(_)||xe(l)&&l.value===""||_===""||Array.isArray(_)&&!_.length,$=Xt.bind(null,D,t,S),ge=(m,F,C,P=J.maxLength,Q=J.minLength)=>{const H=m?F:C;S[D]={type:m?P:Q,message:H,ref:l,...$(m?P:Q,H)}};if(a?!Array.isArray(_)||!_.length:f&&(!ee&&(se||R(_))||Y(_)&&!_||Z&&!xt(u).isValid||X&&!Ft(u).isValid)){const{value:m,message:F}=me(f)?{value:!!f,message:f}:le(f);if(m&&(S[D]={type:J.required,message:F,ref:N,...$(J.required,F)},!t))return T(F),S}if(!se&&(!R(h)||!R(g))){let m,F;const C=le(g),P=le(h);if(!R(_)&&!isNaN(_)){const Q=l.valueAsNumber||_&&+_;R(C.value)||(m=Q>C.value),R(P.value)||(F=Q<P.value)}else{const Q=l.valueAsDate||new Date(_),H=de=>new Date(new Date().toDateString()+" "+de),oe=l.type=="time",ue=l.type=="week";z(C.value)&&_&&(m=oe?H(_)>H(C.value):ue?_>C.value:Q>new Date(C.value)),z(P.value)&&_&&(F=oe?H(_)<H(P.value):ue?_<P.value:Q<new Date(P.value))}if((m||F)&&(ge(!!m,C.message,P.message,J.max,J.min),!t))return T(S[D].message),S}if((V||x)&&!se&&(z(_)||a&&Array.isArray(_))){const m=le(V),F=le(x),C=!R(m.value)&&_.length>+m.value,P=!R(F.value)&&_.length<+F.value;if((C||P)&&(ge(C,m.message,F.message),!t))return T(S[D].message),S}if(B&&!se&&z(_)){const{value:m,message:F}=le(B);if(Fe(m)&&!_.match(m)&&(S[D]={type:J.pattern,message:F,ref:l,...$(J.pattern,F)},!t))return T(F),S}if(q){if(te(q)){const m=await q(_,r),F=ot(m,N);if(F&&(S[D]={...F,...$(J.validate,F.message)},!t))return T(F.message),S}else if(I(q)){let m={};for(const F in q){if(!U(m)&&!t)break;const C=ot(await q[F](_,r),N,F);C&&(m={...C,...$(F,C.message)},T(C.message),t&&(S[D]=m))}if(!U(m)&&(S[D]={ref:N,...m},!t))return S}}return T(!0),S};function er(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=w(e)?i++:e[r[i++]];return e}function tr(e){for(const r in e)if(e.hasOwnProperty(r)&&!w(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:Oe(r)?[r]:gt(r),i=t.length===1?e:er(e,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(I(i)&&U(i)||Array.isArray(i)&&tr(i))&&M(e,t.slice(0,-1)),e}var Ce=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},pe=e=>R(e)||!vt(e);function ie(e,r){if(pe(e)||pe(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const a of t){const l=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=r[a];if(ne(l)&&ne(u)||I(l)&&I(u)||Array.isArray(l)&&Array.isArray(u)?!ie(l,u):l!==u)return!1}}return!0}var pt=e=>e.type==="select-multiple",rr=e=>We(e)||be(e),Me=e=>xe(e)&&e.isConnected,Et=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function Ee(e,r={}){const t=Array.isArray(e);if(I(e)||t)for(const i in e)Array.isArray(e[i])||I(e[i])&&!Et(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ee(e[i],r[i])):R(e[i])||(r[i]=!0);return r}function At(e,r,t){const i=Array.isArray(e);if(I(e)||i)for(const a in e)Array.isArray(e[a])||I(e[a])&&!Et(e[a])?w(r)||pe(t[a])?t[a]=Array.isArray(e[a])?Ee(e[a],[]):{...Ee(e[a])}:At(e[a],R(r)?{}:r[a],t[a]):t[a]=!ie(e[a],r[a]);return t}var he=(e,r)=>At(e,r,Ee(r)),$t=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>w(e)?e:r?e===""?NaN:e&&+e:t&&z(e)?new Date(e):i?i(e):e;function Ie(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Ne(r)?r.files:We(r)?Ft(e.refs).value:pt(r)?[...r.selectedOptions].map(({value:t})=>t):be(r)?xt(e.refs).value:$t(w(r.value)?e.ref.value:r.value,e)}var sr=(e,r,t,i)=>{const a={};for(const l of e){const u=c(r,l);u&&A(a,l,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:i}},fe=e=>w(e)?e:Fe(e)?e.source:I(e)?Fe(e.value)?e.value.source:e.value:e,ir=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function dt(e,r,t){const i=c(e,t);if(i||Oe(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),u=c(r,l),f=c(e,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(f&&f.type)return{name:l,error:f};a.pop()}return{name:t}}var ar=(e,r,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?i.isOnBlur:a.isOnBlur)?!e:(t?i.isOnChange:a.isOnChange)?e:!0,lr=(e,r)=>!Ae(c(e,r)).length&&M(e,r);const nr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function or(e={}){let r={...nr,...e},t={submitCount:0,isDirty:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},a=I(r.defaultValues)||I(r.values)?O(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:O(a),u={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},V,x=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Ce(),array:Ce(),state:Ce()},B=st(r.mode),q=st(r.reValidateMode),D=r.criteriaMode===G.all,re=s=>n=>{clearTimeout(x),x=setTimeout(s,n)},j=async s=>{if(h.isValid||s){const n=r.resolver?U((await ee()).errors):await $(i,!0);n!==t.isValid&&g.state.next({isValid:n})}},K=(s,n)=>{(h.isValidating||h.validatingFields)&&((s||Array.from(f.mount)).forEach(o=>{o&&(n?A(t.validatingFields,o,n):M(t.validatingFields,o))}),g.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},_=(s,n=[],o,y,v=!0,d=!0)=>{if(y&&o){if(u.action=!0,d&&Array.isArray(c(i,s))){const b=o(c(i,s),y.argA,y.argB);v&&A(i,s,b)}if(d&&Array.isArray(c(t.errors,s))){const b=o(c(t.errors,s),y.argA,y.argB);v&&A(t.errors,s,b),lr(t.errors,s)}if(h.touchedFields&&d&&Array.isArray(c(t.touchedFields,s))){const b=o(c(t.touchedFields,s),y.argA,y.argB);v&&A(t.touchedFields,s,b)}h.dirtyFields&&(t.dirtyFields=he(a,l)),g.state.next({name:s,isDirty:m(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(l,s,n)},N=(s,n)=>{A(t.errors,s,n),g.state.next({errors:t.errors})},T=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},S=(s,n,o,y)=>{const v=c(i,s);if(v){const d=c(l,s,w(o)?c(a,s):o);w(d)||y&&y.defaultChecked||n?A(l,s,n?d:Ie(v._f)):P(s,d),u.mount&&j()}},X=(s,n,o,y,v)=>{let d=!1,b=!1;const p={name:s},k=!!(c(i,s)&&c(i,s)._f&&c(i,s)._f.disabled);if(!o||y){h.isDirty&&(b=t.isDirty,t.isDirty=p.isDirty=m(),d=b!==p.isDirty);const W=k||ie(c(a,s),n);b=!!(!k&&c(t.dirtyFields,s)),W||k?M(t.dirtyFields,s):A(t.dirtyFields,s,!0),p.dirtyFields=t.dirtyFields,d=d||h.dirtyFields&&b!==!W}if(o){const W=c(t.touchedFields,s);W||(A(t.touchedFields,s,o),p.touchedFields=t.touchedFields,d=d||h.touchedFields&&W!==o)}return d&&v&&g.state.next(p),d?p:{}},Z=(s,n,o,y)=>{const v=c(t.errors,s),d=h.isValid&&Y(n)&&t.isValid!==n;if(e.delayError&&o?(V=re(()=>N(s,o)),V(e.delayError)):(clearTimeout(x),V=null,o?A(t.errors,s,o):M(t.errors,s)),(o?!ie(v,o):v)||!U(y)||d){const b={...y,...d&&Y(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...b},g.state.next(b)}},ee=async s=>{K(s,!0);const n=await r.resolver(l,r.context,sr(s||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return K(s),n},se=async s=>{const{errors:n}=await ee(s);if(s)for(const o of s){const y=c(n,o);y?A(t.errors,o,y):M(t.errors,o)}else t.errors=n;return n},$=async(s,n,o={valid:!0})=>{for(const y in s){const v=s[y];if(v){const{_f:d,...b}=v;if(d){const p=f.array.has(d.name);K([y],!0);const k=await ut(v,l,D,r.shouldUseNativeValidation&&!n,p);if(K([y]),k[d.name]&&(o.valid=!1,n))break;!n&&(c(k,d.name)?p?Zt(t.errors,k,d.name):A(t.errors,d.name,k[d.name]):M(t.errors,d.name))}!U(b)&&await $(b,n,o)}}return o.valid},ge=()=>{for(const s of f.unMount){const n=c(i,s);n&&(n._f.refs?n._f.refs.every(o=>!Me(o)):!Me(n._f.ref))&&$e(s)}f.unMount=new Set},m=(s,n)=>(s&&n&&A(l,s,n),!ie(qe(),a)),F=(s,n,o)=>_t(s,f,{...u.mount?l:w(n)?a:z(s)?{[s]:n}:n},o,n),C=s=>Ae(c(u.mount?l:a,s,e.shouldUnregister?c(a,s,[]):[])),P=(s,n,o={})=>{const y=c(i,s);let v=n;if(y){const d=y._f;d&&(!d.disabled&&A(l,s,$t(n,d)),v=xe(d.ref)&&R(n)?"":n,pt(d.ref)?[...d.ref.options].forEach(b=>b.selected=v.includes(b.value)):d.refs?be(d.ref)?d.refs.length>1?d.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(v)?!!v.find(p=>p===b.value):v===b.value)):d.refs[0]&&(d.refs[0].checked=!!v):d.refs.forEach(b=>b.checked=b.value===v):Ne(d.ref)?d.ref.value="":(d.ref.value=v,d.ref.type||g.values.next({name:s,values:{...l}})))}(o.shouldDirty||o.shouldTouch)&&X(s,v,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&de(s)},Q=(s,n,o)=>{for(const y in n){const v=n[y],d=`${s}.${y}`,b=c(i,d);(f.array.has(s)||!pe(v)||b&&!b._f)&&!ne(v)?Q(d,v,o):P(d,v,o)}},H=(s,n,o={})=>{const y=c(i,s),v=f.array.has(s),d=O(n);A(l,s,d),v?(g.array.next({name:s,values:{...l}}),(h.isDirty||h.dirtyFields)&&o.shouldDirty&&g.state.next({name:s,dirtyFields:he(a,l),isDirty:m(s,d)})):y&&!y._f&&!R(d)?Q(s,d,o):P(s,d,o),it(s,f)&&g.state.next({...t}),g.values.next({name:u.mount?s:void 0,values:{...l}})},oe=async s=>{u.mount=!0;const n=s.target;let o=n.name,y=!0;const v=c(i,o),d=()=>n.type?Ie(v._f):yt(s),b=p=>{y=Number.isNaN(p)||p===c(l,o,p)};if(v){let p,k;const W=d(),ae=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Ct=!ir(v._f)&&!r.resolver&&!c(t.errors,o)&&!v._f.deps||ar(ae,c(t.touchedFields,o),t.isSubmitted,q,B),Se=it(o,f,ae);A(l,o,W),ae?(v._f.onBlur&&v._f.onBlur(s),V&&V(0)):v._f.onChange&&v._f.onChange(s);const De=X(o,W,ae,!1),Mt=!U(De)||Se;if(!ae&&g.values.next({name:o,type:s.type,values:{...l}}),Ct)return h.isValid&&j(),Mt&&g.state.next({name:o,...Se?{}:De});if(!ae&&Se&&g.state.next({...t}),r.resolver){const{errors:Je}=await ee([o]);if(b(W),y){const It=dt(t.errors,i,o),Xe=dt(Je,i,It.name||o);p=Xe.error,o=Xe.name,k=U(Je)}}else K([o],!0),p=(await ut(v,l,D,r.shouldUseNativeValidation))[o],K([o]),b(W),y&&(p?k=!1:h.isValid&&(k=await $(i,!0)));y&&(v._f.deps&&de(v._f.deps),Z(o,k,p,De))}},ue=(s,n)=>{if(c(t.errors,n)&&s.focus)return s.focus(),1},de=async(s,n={})=>{let o,y;const v=ve(s);if(r.resolver){const d=await se(w(s)?s:v);o=U(d),y=s?!v.some(b=>c(d,b)):o}else s?(y=(await Promise.all(v.map(async d=>{const b=c(i,d);return await $(b&&b._f?{[d]:b}:b)}))).every(Boolean),!(!y&&!t.isValid)&&j()):y=o=await $(i);return g.state.next({...!z(s)||h.isValid&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!y&&ye(i,ue,s?v:f.mount),y},qe=s=>{const n={...u.mount?l:a};return w(s)?n:z(s)?c(n,s):s.map(o=>c(n,o))},je=(s,n)=>({invalid:!!c((n||t).errors,s),isDirty:!!c((n||t).dirtyFields,s),error:c((n||t).errors,s),isValidating:!!c(t.validatingFields,s),isTouched:!!c((n||t).touchedFields,s)}),wt=s=>{s&&ve(s).forEach(n=>M(t.errors,n)),g.state.next({errors:s?t.errors:{}})},He=(s,n,o)=>{const y=(c(i,s,{_f:{}})._f||{}).ref,v=c(t.errors,s)||{},{ref:d,message:b,type:p,...k}=v;A(t.errors,s,{...k,...n,ref:y}),g.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},St=(s,n)=>te(s)?g.values.subscribe({next:o=>s(F(void 0,n),o)}):F(s,n,!0),$e=(s,n={})=>{for(const o of s?ve(s):f.mount)f.mount.delete(o),f.array.delete(o),n.keepValue||(M(i,o),M(l,o)),!n.keepError&&M(t.errors,o),!n.keepDirty&&M(t.dirtyFields,o),!n.keepTouched&&M(t.touchedFields,o),!n.keepIsValidating&&M(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&M(a,o);g.values.next({values:{...l}}),g.state.next({...t,...n.keepDirty?{isDirty:m()}:{}}),!n.keepIsValid&&j()},Ke=({disabled:s,name:n,field:o,fields:y,value:v})=>{if(Y(s)&&u.mount||s){const d=s?void 0:w(v)?Ie(o?o._f:c(y,n)._f):v;A(l,n,d),X(n,d,!1,!1,!0)}},we=(s,n={})=>{let o=c(i,s);const y=Y(n.disabled);return A(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...n}}),f.mount.add(s),o?Ke({field:o,disabled:n.disabled,name:s,value:n.value}):S(s,!0,n.value),{...y?{disabled:n.disabled}:{},...r.progressive?{required:!!n.required,min:fe(n.min),max:fe(n.max),minLength:fe(n.minLength),maxLength:fe(n.maxLength),pattern:fe(n.pattern)}:{},name:s,onChange:oe,onBlur:oe,ref:v=>{if(v){we(s,n),o=c(i,s);const d=w(v.value)&&v.querySelectorAll&&v.querySelectorAll("input,select,textarea")[0]||v,b=rr(d),p=o._f.refs||[];if(b?p.find(k=>k===d):d===o._f.ref)return;A(i,s,{_f:{...o._f,...b?{refs:[...p.filter(Me),d,...Array.isArray(c(a,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),S(s,!1,void 0,d)}else o=c(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(bt(f.array,s)&&u.action)&&f.unMount.add(s)}}},Qe=()=>r.shouldFocusError&&ye(i,ue,f.mount),Dt=s=>{Y(s)&&(g.state.next({disabled:s}),ye(i,(n,o)=>{const y=c(i,o);y&&(n.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(v=>{v.disabled=y._f.disabled||s}))},0,!1))},Ge=(s,n)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let v=O(l);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:b}=await ee();t.errors=d,v=b}else await $(i);if(M(t.errors,"root"),U(t.errors)){g.state.next({errors:{}});try{await s(v,o)}catch(d){y=d}}else n&&await n({...t.errors},o),Qe(),setTimeout(Qe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},kt=(s,n={})=>{c(i,s)&&(w(n.defaultValue)?H(s,O(c(a,s))):(H(s,n.defaultValue),A(a,s,O(n.defaultValue))),n.keepTouched||M(t.touchedFields,s),n.keepDirty||(M(t.dirtyFields,s),t.isDirty=n.defaultValue?m(s,O(c(a,s))):m()),n.keepError||(M(t.errors,s),h.isValid&&j()),g.state.next({...t}))},Ye=(s,n={})=>{const o=s?O(s):a,y=O(o),v=U(s),d=v?a:y;if(n.keepDefaultValues||(a=o),!n.keepValues){if(n.keepDirtyValues)for(const b of f.mount)c(t.dirtyFields,b)?A(d,b,c(l,b)):H(b,c(d,b));else{if(Te&&w(s))for(const b of f.mount){const p=c(i,b);if(p&&p._f){const k=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(xe(k)){const W=k.closest("form");if(W){W.reset();break}}}}i={}}l=e.shouldUnregister?n.keepDefaultValues?O(a):{}:O(d),g.array.next({values:{...d}}),g.values.next({values:{...d}})}f={mount:n.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!h.isValid||!!n.keepIsValid||!!n.keepDirtyValues,u.watch=!!e.shouldUnregister,g.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:v?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ie(s,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:v?{}:n.keepDirtyValues?n.keepDefaultValues&&l?he(a,l):t.dirtyFields:n.keepDefaultValues&&s?he(a,s):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ze=(s,n)=>Ye(te(s)?s(l):s,n);return{control:{register:we,unregister:$e,getFieldState:je,handleSubmit:Ge,setError:He,_executeSchema:ee,_getWatch:F,_getDirty:m,_updateValid:j,_removeUnmounted:ge,_updateFieldArray:_,_updateDisabledField:Ke,_getFieldArray:C,_reset:Ye,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(s=>{ze(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Dt,_subjects:g,_proxyFormState:h,_setErrors:T,get _fields(){return i},get _formValues(){return l},get _state(){return u},set _state(s){u=s},get _defaultValues(){return a},get _names(){return f},set _names(s){f=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:de,register:we,handleSubmit:Ge,watch:St,setValue:H,getValues:qe,reset:ze,resetField:kt,clearErrors:wt,unregister:$e,setError:He,setFocus:(s,n={})=>{const o=c(i,s),y=o&&o._f;if(y){const v=y.refs?y.refs[0]:y.ref;v.focus&&(v.focus(),n.shouldSelect&&v.select())}},getFieldState:je}}function xr(e={}){const r=E.useRef(),t=E.useRef(),[i,a]=E.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...or(e),formState:i});const l=r.current.control;return l._options=e,Be({subject:l._subjects.state,next:u=>{Vt(u,l._proxyFormState,l._updateFormState,!0)&&a({...l._formState})}}),E.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),E.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==i.isDirty&&l._subjects.state.next({isDirty:u})}},[l,i.isDirty]),E.useEffect(()=>{e.values&&!ie(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,a(u=>({...u}))):l._resetDefaultValues()},[e.values,l]),E.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),E.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),E.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=ht(i,l),r.current}var Fr=(e={})=>{const{strict:r=!0,errorMessage:t="useContext must be used within a Provider with a value",name:i}=e,a=E.createContext(void 0);a.displayName=i;const l=()=>{const u=E.useContext(a);if(r&&u===void 0){const f=new Error(t);throw f.name="ContextError",f}return u};return[a.Provider,l,a]};export{yr as $,_r as C,gr as a,br as b,Vr as c,ce as d,et as e,hr as f,mr as g,Fr as h,xr as u};
